---
layout: post
title: "云的抉择: “我的Web应用到底应该在哪种云服务上运行？”Part 2"
date: 2015-03-29 15:34:14 +0800
comments: true
categories: [PaaS, CNPaaS]
description: "IaaS VS PaaS !"
published: false
author: Zhizhao Lin
---

**[上一篇](http://blog.cnpaas.io/blog/iaas-vs-paas-p1/)** 我们从**自由度**、**运维压力**和**性能**的角度对 IaaS 和 PaaS 两种云服务对web开发者的适用性进行了PK。

这一篇我们将从**便利性**及**迁移成本**这两个角度继续探讨“我的Web应用或网站到底应该在哪种云服务上运行？”这个问题。

#### 四、便利性

有一种说法，是Docker部署应用“像点个按钮一样简单。”其实对于一般人来说，真正应验这句话的是PaaS服务（有些PaaS服务是建立在Docker基础上的）。

做得好的PaaS在这点上是可以秒杀IaaS的。譬如GAE，当你修改完代码，用Google提供的软件点一下按钮就可以完成在本地测试和在云端运行，你甚至都不需要去知道你的代码是怎么传上去的。

而IaaS基于上边所说的有前后期的运维压力，你甚至在部署应用之前得选择你的服务器要安装什么操作系统。

事实上现在PaaS服务主流的上传方式还是有一点学习曲线的，比如你可能需要了解怎么用SVN或者GIT去更新和推送你的代码到PaaS服务上，这个过程不比传统FTP上传来得简单，但是本身SVN和GIT作为版本控制工具的诸多优势，是FTP不可比拟的，熟悉基本的使用后，一切就交给一两句命令去完成。  而对于PaaS服务商来讲，如何解决开发环境和生产环境里项目可能产生的差异是一个挑战。比如你一个WordPress项目虽然通过GIT做到本地和云端的代码一致，但是数据库如何解决一致的问题？云端运行的版本在线安装了插件以及上传了图片等静态文件上去，这种情况造成的差异问题如何解决？

#### 五、迁移成本
对于有运维基础的人来说，IaaS比较保险，虽然麻烦一点，但是毕竟要拿回文件和数据是分分钟的事情。
PaaS……主要看服务商怎么做，程序代码由于能做到云端和本地天然一致，自然没问题，问题上面一条提到的静态文件和数据怎么办，而且即便都拿到了，能不能在另一个平台顺利运行也是个问题。比如我当年在GAE上运行的网站在GAE被墙后基本上就宣告死亡了。这个问题上我建议即使选择PaaS，也不要选择服务太奇葩的，GAE的问题在于它的数据库类型，几乎在其他环境下没法用。尽量选择服务环境比较通用的。

---

**总的来讲**，IaaS是让服务环境去适应项目程序，你需要花精力去做运维工作配置好适合的运行环境；PaaS是让项目程序去适应服务环境，你需要限制程序开发的自由度按照PaaS服务的一定规范去开发你的项目。

我建议先看看备选的PaaS服务商提供的服务是否能满足你项目正常运行的需要，小型项目和需要快速上线的项目可以用PaaS快速部署看看效果，而使用常用CMS创建的网站，由于对运行环境的定制要求不高，也特别适合用PaaS。  如果有后期优化运行环境需要或者程序不稳定因素大的、有可能大改程序的，那么基于自由度的因素选择IaaS或许更适合。
